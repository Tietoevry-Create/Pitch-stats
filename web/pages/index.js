import Head from 'next/head';
import groq from 'groq';

import client from 'util/client.js';
import Layout from 'components/layout.jsx';

export default function Home({ data, preview = false }) {
  const { title } = data;
  return (
    <div>
      <Head>
        <title>Statistikk</title>
        <meta name="description" content="Generated by create next app" />
        <link rel="icon" href="/favicon.ico" />
      </Head>
      <Layout>
        <div className="bg-green-400">
          <h1 className=" font-bold underline">{title}</h1>
        </div>
      </Layout>
    </div>
  );
}

export async function getStaticProps({ preview = false }) {
  const query = groq`*[_type == 'frontPage' && _id == 'frontPage' && !(_id in path("drafts.**"))][0]{title, ...}`;
  const data = await client.fetch(query);
  return {
    props: {
      data
    },
    revalidate: 200
  };
}
